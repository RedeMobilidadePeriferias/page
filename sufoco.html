<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redemopes</title>
    <link rel="stylesheet" href="estilo.css">
</head>

<body>
    <nav>
        <ul>
            <li>
                <a href="index.html">Apresentação</a>
            </li>
            <li>
                <a href="projetos.html">Projetos</a>
                <ul>
                    <li><a href="extensao.html">Extensão</a></li>
                    <li></li><a href="">Grupo de estudos</a>
            </li>
            <li></li><a href="">Podcast Ponto de Partida</a></li>
            <li></li><a href="">App Sufoco</a></li>
        </ul>
        </li>
        <li>
            <a href="pesquisas.html">Pesquisas</a>
            <ul>
                <li><a href="">Linhas de pesquisa</a></li>
                <li><a href="">Publicações</a></li>
            </ul>
        </li>
        <li>
            <a href="blog.html">Blog</a>
        </li>
        <li>
            <a href="equipe.html">Equipe</a>
        </li>
        <li>
            <a href="contato.html">Contato</a>
        </li>
        </ul>

    </nav>
    <header>
        <img src="./imag/Sufoco_capa.png">

        <h1>
            app sufoco: lotação nos transportes coletivos da rmsp
        </h1>
        <hr>
        <p>
            O mapeamento colaborativo sufoco: lotação nos transportes coletivos na RMSP é parte das ações do grupo de
            pesquisa-ensino-extensão Rede Mobilidade Periferias, Instituto das Cidades, Campus Zona Leste, Unifesp.

        </p>
        <h3>
            <b style="color:red">
                O que queremos?
            </b>

        </h3>
        <p>
            A proposta deste projeto é o <b style="color:red">mapeamento colaborativo digital a partir dos alertas das
                pessoas em situações de lotação nos transportes coletivos na região metropolitana de São Paulo
                (RMSP)</b>, que é um problema histórico enfrentado pelas pessoas em sua mobilidade cotidiana, mas vem se
            agravando neste contexto de pandemia do coronavírus.
        </p>
        <h3>
            <b style="color:red">
                Como faremos?
            </b>

        </h3>
        <p>
        Os alertas de lotação enviados pelas pessoas nos transportes coletivos na RMSP serão inseridos neste site ou no link do App Sufoco <a style="color:blue" href="https://play.google.com/store/apps/details?id=br.com.mapeamentosufoco.app" target="_blank" rel="noopener noreferrer">App Sufoco: lotação nos transportes</a>
    </p>
        <h3>
            <b style="color:red">
                O que esperamos gerar?
            </b>
        </h3>
        <p>
            A equipe do projeto divulgará os resultados parciais e finais neste site, bem como, nos meios de comunicação
            e/ou aos órgãos públicos responsáveis. As informações dos participantes serão mantidas em anonimato.

        </p>

        <div id="map"></div>

        <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgD8vO518VQrPXCbvaEDSCaLWQya5HAO8&callback=initMap&libraries=&v=weekly"
            defer></script>
        <style type="text/css">
            /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
            #map {
                width: 100%;
                height: 500px;
            }
        </style>

        <br>

        <h2> POLÍTICA DE PRIVACIDADE DO APP SUFOCO
            </h2>
            <br>
            
            <h3>
                <b style="color:red"> INTRODUÇÃO</b>
                
                </b> 
             </h3>
<p>
Nossa política de privacidade demonstra que as informações sobre quais dados coletamos, que maneira são armazenados e forma de utilização. Esta declaração de privacidade se aplica ao nosso site https://redemobilidadeperiferias.github.io/, nosso aplicativo listado no Google Play Store. 
</p>
<p>
O App Sufoco: lotação nos transportes na RMSP é parte das ações do grupo de pesquisa-ensino-extensão Rede Mobilidade Periferias, Instituto das Cidades, Campus Zona Leste (ICZL), Universidade Federal de São Paulo - Unifesp. 
</p>
<p>
Para coletarmos os dados no App Sufoco, basta baixar o aplicativo e autorizar a localização do usuário. A proposta deste aplicativo visa contribuir para tornar visível um problema histórico das lotações nos transportes coletivos na região metropolitana de São Paulo (RMSP), que se agravou no contexto de pandemia do coronavírus. 
</p>
<p>
Os alertas de lotação enviados pelas pessoas que colaboram com o App Sufusco serão inseridos no mapa digital do App e neste site do projeto. 
</p>
<p>
Assim, a equipe do projeto pretende divulgar os resultados dos alertas de lotação nos transportes coletivos na RMSP, garantindo o completo anonimato dos participantes. Essas informações poderão ser utilizadas pelos próprios usuários, pesquisadores e órgãos públicos responsáveis. 
</p>

<h3>
    <b style="color:red"> 
OS DADOS ARMAZENADOS
</b>
</h3>
<br>
<p>
Quando um usuário realiza um alerta de lotação, as informações sobre a condição de lotação dos transportes, motivos das viagens, tempo de viagem, meio de transportes, linhas e estações de transportes, são alimentadas em um banco de dados do Mongo DB, restrita aos coordenadores do projeto. Nenhuma informação identifica o usuário que realizou o alerta, apenas um número identificador, com a localização em coordenadas geográficas (longitude e latitude), motivos da viagem, condição da lotação, meio de transporte, linhas e estações de transportes. Em caso de informações inconsistentes os dados são excluídos. 
</p>
<br>
<h3>
    <b style="color:red"> O App Sufoco utiliza os seguintes dados:</b>

</h3>
<p>
•	Dia e horário dos alertas de lotação
</p>

<p>
•	Localização por coordenadas geográficas dos alertas de lotação
</p>
<p>
•	Condição de lotação do meio de transporte (Lotado, Muito Lotado e Lotação Máxima)
</p>
<p>
•	Meio de Transportes (ônibus, metrô e trem)
</p>
<p>
•	Estações de metrô e trem
</p>
<p>
•	Linhas de ônibus, metrô e trem
</p>
<h3>
    <b style="color:red"> UTILIZAÇÃO DOS DADOS</b>

</h3>
<p> 
Os dados dos alertas de lotação nos transportes são utilizados e disponíveis para análise da distribuição da lotação, em termos de condição, dias e horários dos alertas, meio de transporte, linha ou estação de transporte. Não há compartilhamento de informações pessoais de nenhuma espécie e objetivo é puramente acadêmico e auxiliar aos usuários e aos gestores públicos para tomada de decisão. Não há nenhuma finalidade econômica para oferta gratuita deste App.
</p>
<h3>
    <b style="color:red"> CONTATO E REPORTAR INCORREÇÕES</b>
</h3>
<p> 
O usuário poderá instalar e desinstalar o App a qualquer momento. Em caso de necessidade de contato e reportar incorreções, o contato é no seguinte e-mail: redemobilidadeperiferias@gmail.com ou com o coordenador do projeto, Prof. Dr. Ricardo Barbosa da Silva, ICZL – Unifesp, e-mail: rbsilva@unifesp.br. Qualquer solicitação será resolvida em um prazo máximo de 7 a 14 dias. 
</p>

<br>
Rede Mobilidade Periferias – Redemopes
<br>
e-mail: redemobilidadeperiferias@gmail.com
<br>
<a style="color:blue" href="https://redemobilidadeperiferias.github.io/sufoco.html" target="_blank" rel="noopener noreferrer">https://redemobilidadeperiferias.github.io/sufoco.html</a>
<br>
Para baixar gratuitamente o App Sufoco: lotação nos transportes na RMSP
<br>
<a style="color:blue" href="https://play.google.com/store/apps/details?id=br.com.mapeamentosufoco.app" target="_blank" rel="noopener noreferrer">https://play.google.com/store/apps</a>
<br>
Para acessar o código aberto do App Sufoco no Github
<br>
<a style="color:blue" href="https://github.com/RedeMobilidadePeriferias/MapeamentoColaborativo_APP_LotacaoTranspColetivoRMSP" target="_blank" rel="noopener noreferrer">https://github.com/RedeMobilidadePeriferias/MapeamentoColaborativo_APP_LotacaoTranspColetivoRMSP</a>
<br>

<h3>
    <b style="color:red"></b>            
Equipe do projeto
        </h3>
        Ricardo B. Silva (Coord.do Projeto)
        <br>
        Leonardo Garcez (Colaborador desenvolvedor)
        <br>
        Tatiana Y. Ashino (Colaboradora)
        <br>

    </header>
<br>
<br>

    <footer img>
        <img src="./imag/logo_transp_ufp.png">
    </footer>

    <footer>
        <p>
            <small>Instituto das Cidades, Campus Zona Leste
                <br>
                Universidade Federal de São Paulo (Unifesp)
                <br>
                Grupo de Pesquisa-Ensino-Extensão Rede Mobilidade Periferia
            </small>
        </p>


    </footer>

    <script>
        let map;

        function initMap() {
            map = new google.maps.Map(document.getElementById("map"), {
                center: { lat: -23.55958133, lng: -46.63593292 },
                zoom: 11,
            });

            console.log("aa")
            userAction()

        }

        const userAction = async () => {


            fetch("https://674e5ufk78.execute-api.us-east-1.amazonaws.com/prod/report", {
                method: 'GET',
                mode: "cors"
            }).then(function (response) {
                return response.json();
            }).then(data => {
                for (let i = 0; i < data.reports.length; i++) {
                    const contentString = `<div id="content">${data.reports[i].travelCategory}</div><div id="content">${data.reports[i].travelLine} - ${data.reports[i].travelDate}  - ${data.reports[i].travelStatus}</div>`
                    const infowindow = new google.maps.InfoWindow({
                        content: contentString,
                    });

                    let latlong = data.reports[i].userLocation.split(",")
                    let latitude = parseFloat(latlong[0])
                    let longitude = parseFloat(latlong[1])

                    let marker
                    console.log(data.reports[i].travelCategory)

                    if (data.reports[i].travelCategory == "Trem CPTM") {
                        marker = new google.maps.Marker({
                            position: { lat: latitude, lng: longitude },
                            map,
                            icon: pinSymbol('#c6f861'),
                            animation: google.maps.Animation.DROP,
                            title: data.reports[i].travelCategory,
                        });
                    } else if (data.reports[i].travelCategory == "Metrô") {
                        marker = new google.maps.Marker({
                            position: { lat: latitude, lng: longitude },
                            map,
                            icon: pinSymbol('red'),
                            animation: google.maps.Animation.DROP,
                            title: data.reports[i].travelCategory,
                        });
                    } else {
                        marker = new google.maps.Marker({
                            position: { lat: latitude, lng: longitude },
                            map,
                            icon: pinSymbol('#8048dd'),
                            animation: google.maps.Animation.DROP,
                            title: data.reports[i].travelCategory,
                        });
                    }
                    marker.addListener("click", () => {
                        infowindow.open(map, marker);
                    });
                }
            }).catch(err => {
                console.error('Failed retrieving information', err);
            });
        }

        function pinSymbol(color) {
            return {
                path: 'M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z',
                fillColor: color,
                fillOpacity: 1,
                strokeColor: '#000',
                strokeWeight: 1,
                scale: 1,
                labelOrigin: new google.maps.Point(0, -29)
            };
        }
    </script>
</body>

</html>
